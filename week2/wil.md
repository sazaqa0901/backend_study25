#백엔드 정규 스터디 2주차 과제
<sub>C335282 이예영</sub>

##스프링##

- java를 사용하는 백엔드 프레임워크
  = 객체지향 원칙을 지키면서 개발할 수 있도록 도와준다.

##스프링부트## -스프링 프레임워크를 사용하여 개발할 때, 편의를 더해주는 도구 (데이터베이스와 어플리케이션을 연결 설정에 도움, 웹서버 제공) -스프링으로 개발할 때는 스프링 부트를 함께 사용

##스프링 어플리케이션 구조##
---------------스프링부트-------------------
| 내장 tomcat 서버 | --스프링 컨테이너-- |
| | GET /todo/list/| |
| | 전용 컨트롤러 | | DB
| | JSON 컨버터 | |
| ------------------ |

---

**전용 컨트롤러**: API 요청을 처리하는 각각의 메서드
전용컨트롤러는 자바 메서드에 응답하는 형식(자바 객체로 돌려줌)이므로 일반적으로 프론트엔드와 백엔드가 소통하는 방식(JSON)과 맞지 않음. 자바 객체를 JSON형식으로 바꿔줘야함. 이 역할을 **JSON 컨버터**가 함

##스프링 빈(Spring Bean)##

- 어플리케이션 전역에서 사용할 공용 객체, **"하나의 자바 객체"**

공용 창고(스프링 컨테이너)에 빈을 저장해두고 필요한 빈을 컨테이너에서 받아서 사용, 필요한 빈은 스프링 프레임워크가 자동으로 가져다줌. 빈을 요구하는 객체도 스프링 빈(빈이 아닌 객체는 자동으로 가져다주지 않음). 스프링 빈은 서로가 서로를 필요로 하는 구조.

##스프링 컨테이너(=어플리케이션 컨텍스트(Application Context))##

- 스프링 빈이 저장되는 공간 #스프링 컨테이너에 스프링 빈을 저장하는 방법#

1. 설정 파일 작성(수동 등록)
   설정 파일은 자바 클래스로 작성
   클래스에 @Configuration으로 설정 파일임을 명시
   @Configuration, @Bean
2. 컴포넌트 스캔(자동 등록)
   빈으로 등록하려는 클레스에다가 @Component을 붙여 빈으로 등록 가능
   @Component, @ComponentScan

**의존성이란?** 자동차가 움직이려면 바퀴가 필요하다. 즉, 자동차는 바퀴에 의존한다. => A의 기능을 실행하는데 B의 기능이 필요하다면, **'A는 B에 의존한다'**고 한다. ##의존성 주입(Dependency Injection, DI)##

- 내가 의존하는 객체를 직접 생성하지 않고 밖에서 주입 받는 것
- 컨테이너에 저장된 빈과빈 사이의 의의존성을 프레임워크가 주입(빈을 주입할 때, 두 객체 모두 스프링에 의해 관리되어야 하기 때문에 빈이 아닌 객체는 자동으로 주입 불가능) ##의존성을 주입 받는 이유##
- 객체 지향 원칙 중 하나인 OCP(Open Close Principle)원칙을 준수 = 유지보수 용이
- 매번 객체를 생성하는 것이 아니라 생성해둔 객체를 (재)사용하므로 메모리를 효율적으로 사용 ##의존성 주입 방법##
- 주입할 통로(생성자, 필드, 메서드)가 필요
- 이 통로를 통해 주입해 달라고 표시(@Autowired, 생성자가 하나일 경우 생략 가능)
  -> 프레임워크가 알아서 객체 주입

1. 생성자 주입
   의존성이 바뀔 일이 없는 경우 final로 선언
   @RequiredArgsConstructor를 사용해 생성자 추가(생성자 코드 생각 가능)
2. 필드 주입
   필드에서 바로 @Autowired 어노테이션을 사용(final X)
   주로 테스트 코드에서 사용(테스트를 실행할 때 이미 스프링 컨테이너가 존재해야 함)
   클래스에 @SpringBootTest 어노테이션을 사용하면 어플리케이션에 있는 모든 빈을 컨테이너에 등록한 후 테스트 실행
   통합 테스트에도 사용 가능능
   ~3. 세터 주입(메서드 주입)~
   _스프링 빈과 컨테이너를 실제 개발에서는 어떻게 활용할까?_
   스프링 Layered Architecture

- 컨트롤러: 클라이언트의 요청을 받고 응답을 보내는 계층, DTO(Data Transfer Object)를 사용하여 서비스 계층과 데이터를 주고 받음
- 서비스: 어플리케이션의 비지니스 로직이 담기는 계층, 레포지토리 계층과 소통하며 언티티 또는 DTO 사용
- 레포지토리: DB와 소통하며 데이터를 조작하는 계층, 서비스 계층이 결정한 비즈니스 로직을 실제 DB에 적용
